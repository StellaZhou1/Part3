{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","person","delete","id","put","Notification","message","success","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Filter","newFilter","setNewFilter","value","onChange","event","target","PersonForm","persons","newName","newNumber","setPersons","setNewName","setNewNumber","setMessage","setSuccess","onSubmit","preventDefault","personToChange","find","name","number","window","confirm","personService","changedPerson","map","p","setTimeout","catch","error","returnedPerson","concat","type","Persons","personsToShow","filter","toLowerCase","indexOf","onClick","deletedPerson","console","log","deletePerson","App","useState","useEffect","initialPersons","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.238bb6ed.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\nconst getAll = ()=> {\r\n\treturn axios.get(baseUrl).then(response => response.data)\r\n}\r\nconst create = (newPerson)=> {\r\n\treturn axios.post(baseUrl,newPerson)\r\n\t.then(response => response.data)\r\n}\r\nconst deletePerson = (person)=>{\r\n\treturn axios.delete(`${baseUrl}/${person.id}`)\r\n   .then((response) => response.data)\r\n}\r\n\r\nconst update = (person,newPerson) => {\r\n\treturn axios.put(`${baseUrl}/${person.id}`,newPerson)\r\n\t.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll,\r\n  create: create,\r\n  deletePerson:deletePerson,\r\n  update:update\r\n}","import React, { useState,useEffect} from 'react'\nimport personService from './services/persons'\n\nconst Notification = ({message,success}) => {\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n    const successStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if (message===null)\n  {\n    return null\n  }\n  if (success)\n    return (<div style={successStyle}>\n    {message}</div>)\n  else\n    return (<div style={errorStyle}>\n      {message}\n      </div>)\n}\n\nconst Filter = ({newFilter,setNewFilter}) => {\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  return <input value={newFilter} onChange={handleFilterChange}></input>\n}\n\nconst PersonForm = ({persons,newPerson,newName,newNumber,setPersons,setNewName,setNewNumber,setMessage,setSuccess}) => {\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personToChange=persons.find((person)=>person.name===newName)\n    const newPerson = {\n      name: newName,\n      number:newNumber\n    }\n    if (personToChange)\n    {\n      const confirmation=window.confirm(newName+ ' is already added to phonebook, replace the old number with a new one?')\n      if(confirmation)\n        personService.update(personToChange,newPerson)\n        .then(changedPerson=>{setPersons(persons.map(p => changedPerson.id !== p.id ? p : changedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessage('Changed '+changedPerson.name)\n        setSuccess(true)\n        setTimeout(() => {setMessage(null)}, 5000)\n        })\n        .catch(error => {\n          setSuccess(false)\n          setMessage(error.response.data.error)\n          // setMessage(`The record of ${personToChange.name} was already removed from the server`)\n          setTimeout(() => {setMessage(null)}, 5000)\n        })\n    }\n    else\n    {\n      personService.create(newPerson).then(returnedPerson =>{\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNumber('')\n      setMessage('Added '+returnedPerson.name)\n      setSuccess(true)\n      setTimeout(() => {setMessage(null)}, 5000)\n      })\n      .catch(error => {\n      setSuccess(false)\n      // console.log(error.response.data)\n      setMessage(error.response.data.error)\n      // setMessage(`Information of ${newPerson.name} has already been removed from the server`)\n      setTimeout(() => {setMessage(null)}, 5000)\n      })\n\n    }\n\n    \n  }\n  return (<form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>)\n}\nconst deletePerson = (person,persons,setPersons)=> {\n  let confirmation=window.confirm(`Delete ${person.name}?`)\n  if (confirmation)\n  {\n    personService.deletePerson(person)\n    .then(deletedPerson=>{\n    setPersons(persons.filter(p => {return p.id!==person.id}))\n  })\n  }\n  else\n  {\n    console.log(\"cancel\")\n  }\n\n\n}\nconst Persons = ({persons,newFilter,setPersons}) => {\n  const personsToShow = persons.filter(person=>{\n    return person.name.toLowerCase().indexOf(newFilter.toLowerCase())>= 0})\n  return <div>\n  {personsToShow.map(person => <div key={person.name}>name: {person.name} number: {person.number} \n  <button type=\"button\" onClick={()=>deletePerson(person,persons,setPersons)}>delete</button>\n  </div>)}\n  </div>\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message,setMessage ] = useState('')\n  const [ success,setSuccess ] = useState(true)\n  //hook must be a function\n  useEffect(()=>{\n    personService\n    .getAll()\n    .then(initialPersons=>setPersons(initialPersons))}\n  ,[])\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} success={success}/>\n      <div>\n        filter shown with\n        <Filter newFilter={newFilter} setNewFilter={setNewFilter}/>\n      </div>\n      <h2>add a new</h2>\n      <PersonForm persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} setNewName={setNewName}\n       setNewNumber={setNewNumber} setMessage={setMessage} setSuccess={setSuccess}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} newFilter={newFilter} setPersons={setPersons}/>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}